(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{3445:function(e,t,s){Promise.resolve().then(s.bind(s,9643))},9643:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c},dynamic:function(){return i}});var a=s(3827),l=s(4090),n=s(7907),o=s(826),r=s(9263);let i="force-dynamic";function c(){let e=(0,n.useRouter)(),[t,s]=(0,l.useState)(""),[i,c]=(0,l.useState)(""),[u,d]=(0,l.useState)(""),[p,m]=(0,l.useState)(""),g=async()=>{try{console.log("\uD83D\uDD0D Starting Google sign-up..."),console.log("\uD83D\uDCF1 Is native platform:",r.dV.isNativePlatform());let e="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname,t="https://accounts.google.com/o/oauth2/v2/auth?client_id=488875684334-urrslagsla2btuuri02acrunqum7d2bk.apps.googleusercontent.com&"+"redirect_uri=".concat(encodeURIComponent(e?"http://localhost:3000/auth/callback":"https://cardscope-web.vercel.app/auth/callback"),"&")+"response_type=code&scope=openid%20email%20profile&access_type=offline";console.log("\uD83D\uDCF1 OAuth URL:",t),r.dV.isNativePlatform()&&console.log("\uD83D\uDCF1 Navigating WebView to OAuth URL"),window.location.href=t}catch(e){console.error("❌ Google sign-up failed:",e),m("Google sign-up failed. Please try again.")}},h=async()=>{try{console.log("\uD83C\uDF4E Starting Apple sign-up..."),window.location.href="/api/auth/signin/apple"}catch(e){console.error("❌ Apple sign-up failed:",e),m("Apple sign-up failed. Please try again.")}},f=async s=>{if(s.preventDefault(),m(""),!t||!i||!u){m("Please fill all required fields");return}try{let s=await o.Z.post("/api/auth/signup",{name:t,email:i,password:u});200===s.status&&(localStorage.setItem("cardscope_user",JSON.stringify({id:i,name:t,email:i,picture:null})),window.dispatchEvent(new Event("authUpdated")),console.log("✅ Manual signup successful:",i),e.push("/settings"))}catch(e){var a,l;console.error("❌ Signup failed:",e),m((null===(l=e.response)||void 0===l?void 0:null===(a=l.data)||void 0===a?void 0:a.error)||"Signup failed. Please try again.")}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:(0,a.jsxs)("div",{className:"max-w-md w-full bg-white shadow-md rounded-lg p-6 sm:p-8 space-y-6",children:[(0,a.jsx)("h1",{className:"text-center text-xl font-bold",children:"\uD83D\uDCDD Sign Up"}),p&&(0,a.jsx)("p",{className:"text-red-600 text-sm text-center",children:p}),(0,a.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,a.jsx)("input",{type:"text",className:"w-full border p-3 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"Full name",value:t,onChange:e=>s(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,a.jsx)("input",{type:"email",className:"w-full border p-3 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"you@example.com",value:i,onChange:e=>c(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,a.jsx)("input",{type:"password",className:"w-full border p-3 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"••••••••",value:u,onChange:e=>d(e.target.value)})]}),(0,a.jsx)("button",{type:"submit",className:"btn btn-primary w-full",children:"Sign Up"})]}),(0,a.jsxs)("div",{className:"flex items-center my-4",children:[(0,a.jsx)("div",{className:"flex-grow border-t border-gray-200"}),(0,a.jsx)("span",{className:"mx-2 text-gray-400 text-sm",children:"or"}),(0,a.jsx)("div",{className:"flex-grow border-t border-gray-200"})]}),(0,a.jsxs)("button",{onClick:g,className:"flex items-center justify-center w-full border border-gray-300 rounded-lg py-2 hover:bg-gray-50 transition",children:[(0,a.jsx)("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"h-5 w-5 mr-2"}),"Continue with Google"]}),(0,a.jsxs)("button",{onClick:h,className:"flex items-center justify-center w-full bg-black text-white rounded-lg py-2 hover:bg-gray-800 transition",children:[(0,a.jsx)("svg",{className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M17.05 20.28c-.98.95-2.05.88-3.08.4-1.09-.5-2.08-.48-3.24 0-1.44.62-2.2.44-3.06-.4C4.79 15.25 3.8 10.45 6.05 7.96c1.15-1.23 2.5-1.93 4.05-1.93 1.18 0 2.06.4 3.08.88.78.38 1.48.58 1.98.58.44 0 1.15-.2 1.98-.58 1.02-.48 1.9-.88 3.08-.88 1.58 0 2.93.73 4.08 1.96-3.12 3.53-2.61 8.5 1.08 11.32-1.1 1.01-2.2 1.4-3.18 1.4zm-2.04-17.3c.15 1.15-.34 2.3-1.05 3.04-.73.76-1.9 1.25-3.04 1.15-.15-1.15.35-2.3 1.06-3.04.74-.76 1.91-1.24 3.03-1.15z"})}),"Continue with Apple"]}),(0,a.jsxs)("div",{className:"text-center text-sm text-gray-600",children:["Already have an account?"," ",(0,a.jsx)("button",{className:"text-blue-600 font-medium hover:underline",onClick:()=>e.push("/login"),children:"Login"})]})]})})}},826:function(e,t,s){"use strict";var a=s(3107);let l=(()=>{let e=window.location.hostname;return"localhost"===e||"127.0.0.1"===e?"https://cardscope-app.onrender.com":e.includes("10.0.2.2")?"http://10.0.2.2:8080":e.includes("192.168.")||e.includes("172.")?"http://".concat(e,":8080"):"https://cardscope-app.onrender.com"})();console.log("API Base URL →",l);let n=a.Z.create({baseURL:l,headers:{"Content-Type":"application/json"}});n.interceptors.response.use(e=>e,e=>{var t;return console.error("API Error:",(null===(t=e.response)||void 0===t?void 0:t.data)||e.message),Promise.reject(e)}),t.Z=n}},function(e){e.O(0,[615,263,971,69,744],function(){return e(e.s=3445)}),_N_E=e.O()}]);