(()=>{var e={};e.id=931,e.ids=[931],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},87529:()=>{},73585:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>g,tree:()=>c});var r=s(50482),a=s(69108),n=s(62563),o=s.n(n),i=s(68300),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(t,l);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,70751)),"/Users/murari/WebstormProjects/cardscope-web/app/page.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,98982)),"/Users/murari/WebstormProjects/cardscope-web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/murari/WebstormProjects/cardscope-web/app/page.tsx"],u="/page",m={require:s,loadChunk:()=>Promise.resolve()},g=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},50364:(e,t,s)=>{Promise.resolve().then(s.bind(s,79071))},93148:(e,t,s)=>{Promise.resolve().then(s.bind(s,67296))},80575:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,26840,23)),Promise.resolve().then(s.t.bind(s,38771,23)),Promise.resolve().then(s.t.bind(s,13225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,43982,23))},79071:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h,dynamic:()=>p});var r=s(95344),a=s(3729),n=s(8428),o=s(67296),i=s(18879),l=s(23829);let c=function({suggestions:e}){return r.jsx("div",{className:"space-y-3 sm:space-y-4",children:e.map((e,t)=>(0,r.jsxs)(l.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.1*t},className:"p-3 sm:p-4 rounded-lg shadow bg-white border border-gray-100 hover:shadow-md transition",children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-800",children:e.card_name}),(0,r.jsxs)("p",{className:"text-xs sm:text-sm text-gray-600",children:[r.jsx("span",{className:"font-medium",children:"Reward:"})," ",e.expected_reward]}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:e.reasoning})]},t))})},d=function({card:e}){let t=e?.category?.toLowerCase?.()||"",s=e?.store||"",a=e?.currentQuarter||"",n=e?.card_name||"Your Card",o="\uD83D\uDCB3",i="smart saver";return t.includes("grocery")||t.includes("supermarket")?(o="\uD83D\uDED2",i="smart shopper"):t.includes("dining")||t.includes("restaurant")?(o="\uD83C\uDF7D️",i="foodie"):t.includes("travel")||t.includes("airline")?(o="✈️",i="travel enthusiast"):t.includes("gas")||t.includes("fuel")?(o="⛽",i="road tripper"):t.includes("online")||t.includes("amazon")?(o="\uD83D\uDECD️",i="online shopper"):(t.includes("entertainment")||t.includes("stream"))&&(o="\uD83C\uDFAC",i="entertainment lover"),(0,r.jsxs)(l.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5},className:" p-4 sm:p-6 rounded-xl bg-gradient-to-r from-blue-100 via-blue-200 to-indigo-100 dark:from-blue-700 dark:via-indigo-800 dark:to-gray-900 text-gray-900 dark:text-gray-100 border border-blue-200 dark:border-indigo-700 shadow-md dark:shadow-lg ",children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold mb-2 text-blue-800 dark:text-blue-200",children:"⭐ Best Card Recommendation"}),r.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-blue-900 dark:text-blue-100",children:n}),(0,r.jsxs)("p",{className:"mt-2 text-sm sm:text-lg font-medium text-gray-800 dark:text-gray-200",children:["Reward: ",e.expected_reward]}),e.reasoning&&r.jsx("p",{className:"mt-1 text-xs sm:text-sm text-gray-700 dark:text-gray-300",children:e.reasoning}),(0,r.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:" mt-4 bg-white/60 dark:bg-white/10 backdrop-blur-md rounded-lg p-3 sm:p-4 shadow-inner ",children:[(0,r.jsxs)("p",{className:"text-sm sm:text-base leading-relaxed text-gray-800 dark:text-gray-200",children:[o," Hey ",i,"!"," ",r.jsx("strong",{className:"text-blue-800 dark:text-blue-300",children:n})," ","is your top pick right now, earning"," ",r.jsx("strong",{className:"text-blue-700 dark:text-blue-300",children:e.expected_reward}),s&&(0,r.jsxs)(r.Fragment,{children:[" ","at"," ",r.jsx("strong",{className:"text-blue-700 dark:text-blue-300",children:s})]}),a&&(0,r.jsxs)(r.Fragment,{children:[" ","during"," ",r.jsx("strong",{className:"text-blue-700 dark:text-blue-300",children:a})]}),". Keep using it for maximum rewards! \uD83D\uDCB8"]}),t&&(0,r.jsxs)("p",{className:"text-xs sm:text-sm mt-2 text-blue-700 dark:text-blue-300 italic",children:["Because this merchant falls under"," ",r.jsx("strong",{className:"capitalize",children:t}),", your rewards potential is higher than usual."]})]})]})};var u=s(4538),m=s(18117),g=s(77215),x=s(34607);let p="force-dynamic";function h(){let e=(0,n.useRouter)(),{user:t,isLoading:l}=(0,o.useAuth)(),[p,h]=(0,a.useState)(null),[f,y]=(0,a.useState)("there"),[b,w]=(0,a.useState)(!0),[v,D]=(0,a.useState)(""),[j,N]=(0,a.useState)([]),[C,P]=(0,a.useState)(!1),[S,k]=(0,a.useState)(null),[A,_]=(0,a.useState)(null),[E,U]=(0,a.useState)(null),[F,L]=(0,a.useState)([]),[q,R]=(0,a.useState)(null),[G,O]=(0,a.useState)(!1),[W,V]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{if(!g.dV.isNativePlatform())return;let e=g.dV.getPlatform();"android"===e?(await x.A_.setOverlaysWebView({overlay:!1}),await x.A_.setStyle({style:x.bg.Dark}),await x.A_.setBackgroundColor({color:"#ffffff"})):"ios"===e&&(await x.A_.setOverlaysWebView({overlay:!1}),await x.A_.setStyle({style:x.bg.Light}))}catch{}})()},[]),(0,a.useEffect)(()=>{if(console.log("\uD83D\uDD0D Page.tsx - Auth check - isLoading:",l,"user:",t),l){console.log("⏳ Still loading, waiting...");return}if(!t){let t=new URLSearchParams(window.location.search),s=t.get("status"),r=t.get("userData");if(console.log("\uD83D\uDCF1 Checking URL params - status:",s,"userData:",r?"exists":"none"),"success"===s&&r)try{let e=JSON.parse(decodeURIComponent(r));console.log("✅ Found user data in URL, storing...",e),localStorage.setItem("cardscope_user",JSON.stringify(e)),window.dispatchEvent(new Event("authUpdated")),window.location.href="/";return}catch(e){console.error("❌ Failed to parse user data from URL:",e)}console.log("❌ No auth found, redirecting to login"),e.push("/login");return}console.log("✅ Auth found in page.tsx:",t.email,"name:",t.name),h(t.email),y(t.name||"there")},[l,t,e]),(0,a.useEffect)(()=>{p&&(async()=>{try{let e=encodeURIComponent(p),t=await m.Z.get(`/api/user/${e}`),s=t.data?.name,r=Array.isArray(t.data?.userCards)?t.data.userCards:[];if(w(r.length>0),s){let e=s.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ");y(e)}}catch(e){console.error("❌ Failed to load profile/name:",e)}})()},[p]);let B=e=>{let t=e?.store??null,s=e?.category??null,r=e?.currentQuarter??null,a=Array.isArray(e?.suggestions)?e.suggestions:[];k(t),_(s),U(r),L(a),R(a.length>0?a[0]:null),t&&D(t)},I=()=>!!b||(V("Please add cards in Settings before getting suggestions."),!1),Z=async(e,t)=>{if(!p||!I())return;if(!e.trim()){V("Please Enter store name");return}V(null),O(!0);let s=Date.now();try{let s=await m.Z.post("/api/get-card-suggestions",{email:p,store:e.trim(),category:t||"general"});B(s.data)}catch(e){console.error("❌ Suggestion error:",e),V("Failed to get suggestions. Please try again.")}finally{let e=1e3-(Date.now()-s);e>0&&await new Promise(t=>setTimeout(t,e)),O(!1),P(!1)}},z=async()=>{let e,t;if(!p||!I())return;let r=g.dV.isNativePlatform();V(null),O(!0);try{if(r){let{Geolocation:r}=await s.e(470).then(s.bind(s,79470));console.log("\uD83D\uDCF1 Requesting location permissions on native platform...");let a=await r.checkPermissions();if("granted"!==a.location){console.log("\uD83D\uDCF1 Location not granted, requesting...");let e=await r.requestPermissions();if("granted"!==e.location){O(!1),V("Location permission is required to detect nearby stores. Please enable it in your device settings.");return}}console.log("\uD83D\uDCF1 Getting current position...");let n=await r.getCurrentPosition({timeout:1e4});e=n.coords.latitude,t=n.coords.longitude,console.log("\uD83D\uDCCD Got position:",e,t)}else{if(!navigator.geolocation){V("Geolocation is not supported by your browser."),O(!1);return}console.log("\uD83C\uDF10 Requesting geolocation from browser...");let s=await new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(e,t,{timeout:1e4,enableHighAccuracy:!0})});e=s.coords.latitude,t=s.coords.longitude,console.log("\uD83D\uDCCD Got position:",e,t)}console.log("\uD83C\uDFEC Fetching nearby stores...");let a=await m.Z.get("/api/google/detect-stores-v1",{params:{latitude:e,longitude:t}}),n=[];a.data?.stores?.places&&Array.isArray(a.data.stores.places)?n=a.data.stores.places.map(e=>({name:e.displayName?.text||"Unknown",category:e.primaryType||"general"})):Array.isArray(a.data?.stores)&&(n=a.data.stores.map(e=>({name:e.name,category:e.category}))),0===n.length?await Z("Unknown Store","general"):(N(n),P(!0))}catch(e){console.error("❌ Location error:",e),O(!1),e.message?.includes("denied")||1===e.code?V("Location access denied. Please enable location services in your device settings."):e.message?.includes("timeout")||3===e.code?V("Location request timed out. Please try again."):e.message?.includes("unavailable")?V("Location services are unavailable. Please try again later."):V("Unable to get your location. Please check your device settings.")}finally{O(!1)}};if((0,a.useEffect)(()=>{if(!l)return;let s=setTimeout(()=>{console.log("⏱️ Auth check timeout, redirecting to login"),t||e.push("/login")},3e3);return()=>clearTimeout(s)},[l,t,e]),l||!p&&!t)return(0,r.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 space-y-3",children:[r.jsx(u.Z,{}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Checking authentication..."})]});if(!t)return console.log("❌ No user found, redirecting to login"),e.push("/login"),null;let T=e=>{switch(e?e.toLowerCase():""){case"groceries":return"text-green-600";case"online":return"text-blue-600";case"department_store":return"text-purple-600";case"dining":case"restaurant":return"text-orange-600";case"travel":return"text-indigo-600";default:return"text-gray-600"}},J=new Date().getHours(),M="Hello",H="\uD83D\uDCA1";return J<12?(M="Good morning",H="\uD83C\uDF05"):J<18?(M="Good afternoon",H="\uD83C\uDF07"):(M="Good evening",H="\uD83C\uDF19"),(0,r.jsxs)(i.Z,{children:[(0,r.jsxs)("div",{className:"max-w-lg mx-auto w-full px-4 space-y-6 pt-safe-plus",children:[(0,r.jsxs)("div",{className:"space-y-1 mb-4",children:[(0,r.jsxs)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800",children:[H," ",M,", ",f,"!"]}),(0,r.jsxs)("p",{className:"text-sm sm:text-base text-gray-600",children:["Let’s find the"," ",r.jsx("span",{className:"font-medium text-blue-600",children:"best credit card"})," ","for your next purchase — personalized just for you."]})]}),r.jsx("button",{onClick:z,className:"btn btn-primary w-full",disabled:G,children:"\uD83D\uDCCD Detect My Store & Get Suggestions"}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 mt-2",children:[r.jsx("input",{className:"flex-1 border p-3 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"Enter store name (e.g. Walmart, Patel Brothers)",value:v,onChange:e=>D(e.target.value),onFocus:e=>{}}),r.jsx("button",{onClick:()=>Z(v,"general"),className:"btn btn-primary w-full sm:w-auto",children:"Get Suggestions"})]}),W&&(0,r.jsxs)("div",{className:"flex flex-col items-center p-5 rounded-lg bg-yellow-50 border border-yellow-200 text-yellow-800 text-center shadow-sm space-y-2",children:[r.jsx("div",{className:"text-3xl",children:"⚠️"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-semibold mb-1",children:W.includes("Please Enter store name")?"Store name required":W.includes("add cards")?"Add cards to get started":W.includes("Geolocation")||W.includes("location")?"Location access needed":"Action required"}),r.jsx("p",{className:"text-sm",children:W})]}),W.includes("add cards")?r.jsx("button",{onClick:()=>e.push("/settings"),className:"btn btn-primary w-full sm:w-auto",children:"Go to Settings"}):W.includes("location")||W.includes("Geolocation")?r.jsx("button",{onClick:()=>z(),className:"btn btn-primary w-full sm:w-auto",children:"Try Again"}):null]}),G&&r.jsx(u.Z,{}),!G&&S&&(0,r.jsxs)("div",{className:"p-4 rounded-lg bg-gray-100 border text-sm text-gray-700 space-y-1",children:[(0,r.jsxs)("div",{children:["\uD83C\uDFEC Store: ",r.jsx("span",{className:"font-medium",children:S})]}),A&&(0,r.jsxs)("div",{children:["\uD83C\uDFF7️ Category:"," ",r.jsx("span",{className:`capitalize font-medium ${T(A)}`,children:A})]}),E&&(0,r.jsxs)("div",{children:["\uD83D\uDCC5 Current Quarter: ",r.jsx("span",{className:"font-medium",children:E})]})]}),!G&&q&&r.jsx(d,{card:q}),!G&&F.length>0&&r.jsx(c,{suggestions:F})]}),C&&j.length>0&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg w-11/12 max-w-md p-6 space-y-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 text-center",children:"Select your store"}),r.jsx("ul",{className:"space-y-2",children:j.map((e,t)=>r.jsx("li",{children:(0,r.jsxs)("button",{onClick:()=>{P(!1),O(!0),setTimeout(()=>Z(e.name,e.category),100)},className:"w-full text-left px-4 py-2 border rounded-lg hover:bg-gray-50",children:[e.name," ",(0,r.jsxs)("span",{className:`text-xs font-medium ml-1 ${T(e.category)}`,children:["(",e.category,")"]})]})},t))}),r.jsx("button",{onClick:()=>P(!1),className:"btn btn-danger w-full mt-4",children:"Cancel"})]})})]})}},18879:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var r=s(95344),a=s(56506),n=s(8428),o=s(3729),i=s(77215),l=s(34607),c=s(67296);function d({children:e}){let t=(0,n.usePathname)(),s=(0,n.useRouter)(),{signOut:d}=(0,c.useAuth)();(0,o.useEffect)(()=>{(async()=>{try{if(!i.dV.isNativePlatform())return;let e=i.dV.getPlatform();await l.A_.show(),"ios"===e?(await l.A_.setOverlaysWebView({overlay:!1}),await l.A_.setStyle({style:l.bg.Dark}),await l.A_.setBackgroundColor({color:"#f2f2f2"})):"android"===e&&(await l.A_.setOverlaysWebView({overlay:!0}),await l.A_.setStyle({style:l.bg.Light}),await l.A_.setBackgroundColor({color:"#000000"}))}catch(e){console.warn("StatusBar setup skipped:",e)}})()},[]);let u=async()=>{try{console.log("\uD83D\uDD13 Signing out user..."),d(),s.replace("/login")}catch(e){console.error("❌ Sign-out error:",e)}};return(0,r.jsxs)("div",{className:"min-h-screen flex flex-col font-sans bg-gray-50",style:{paddingTop:"env(safe-area-inset-top, 0px)",paddingBottom:"env(safe-area-inset-bottom, 0px)"},children:[r.jsx("header",{className:"bg-white shadow-sm py-3 rounded-t-2xl overflow-hidden sticky top-0 z-50",style:{top:"env(safe-area-inset-top, 0px)"},children:(0,r.jsxs)("div",{className:"max-w-lg mx-auto w-full px-4 flex justify-between items-center gap-2 min-w-0",children:[r.jsx("div",{className:"flex-shrink-0 min-w-0",children:"/settings"===t?r.jsx(a.default,{href:"/",className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100 transition inline-flex items-center justify-center","aria-label":"Home",children:"\uD83C\uDFE0"}):r.jsx(a.default,{href:"/settings",className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100 transition inline-flex items-center justify-center","aria-label":"Settings",children:"⚙️"})}),r.jsx("h1",{className:"text-base sm:text-lg font-semibold text-gray-800 flex-1 text-center min-w-0 truncate px-2",children:"/settings"===t?"Settings":"Suggestions"}),r.jsx("div",{className:"flex-shrink-0 min-w-0",children:r.jsx("button",{onClick:u,className:"bg-red-600 text-white px-3 py-1 text-xs sm:text-sm rounded-lg font-medium transition hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-1 whitespace-nowrap",children:"Sign Out"})})]})}),r.jsx("main",{className:"flex-1 w-full text-gray-900",children:e}),r.jsx("footer",{className:"bg-white text-center text-xs text-gray-500 border-t py-3 rounded-b-2xl",children:(0,r.jsxs)("div",{className:"max-w-lg mx-auto w-full px-4 space-y-1",children:[(0,r.jsxs)("div",{children:["\xa9 ",new Date().getFullYear()," CardCompass"]}),r.jsx("div",{children:r.jsx(a.default,{href:"/privacy",className:"hover:text-gray-700 underline",children:"Privacy Policy"})})]})})]})}},4538:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(95344);let a=function(){return r.jsx("div",{className:"flex justify-center items-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-blue-500 border-t-transparent"})})}},67296:(e,t,s)=>{"use strict";s.r(t),s.d(t,{AuthProvider:()=>i,useAuth:()=>l});var r=s(95344),a=s(3729),n=s(77215);let o=(0,a.createContext)(void 0);function i({children:e}){let[t,s]=(0,a.useState)(null),[i,l]=(0,a.useState)(!0),c=()=>{try{if("undefined"==typeof localStorage){console.log("⚠️ localStorage not available"),s(null),l(!1);return}let e=localStorage.getItem("cardscope_user");if(e){let t=JSON.parse(e);s(t),console.log("✅ User found in localStorage:",t.email)}else s(null),console.log("❌ No user found in localStorage")}catch(e){console.error("Error checking auth:",e),s(null)}finally{l(!1)}};(0,a.useEffect)(()=>{if(c(),n.dV.isNativePlatform()){console.log("\uD83D\uDCF1 Setting up deep link listeners...");let e=e=>{console.log("\uD83D\uDCF1 Received appUrlOpen event:",e.detail?.url),e.detail?.url&&e.detail.url.includes("cardscope://")&&d(e.detail.url)};window.addEventListener("appUrlOpen",e);let t=e=>{console.log("\uD83D\uDCF1 Received deepLink event from native:",e.detail),d(e.detail)};window.addEventListener("deepLink",t);let s=()=>{let e=window.location.href;e&&e.includes("cardscope://")&&(console.log("\uD83D\uDCF1 Found cardscope:// in window.location:",e),d(e))};s();let r=setInterval(s,1e3);return()=>{window.removeEventListener("appUrlOpen",e),window.removeEventListener("deepLink",t),clearInterval(r)}}let e=e=>{if("cardscope_user"===e.key){if(e.newValue){let t=JSON.parse(e.newValue);s(t),console.log("✅ User updated from storage:",t.email)}else s(null),console.log("❌ User removed from storage")}};window.addEventListener("storage",e);let t=()=>{c()};return window.addEventListener("authUpdated",t),()=>{window.removeEventListener("storage",e),window.removeEventListener("authUpdated",t)}},[]);let d=e=>{try{console.log("\uD83D\uDD17 Processing deep link URL:",e);let t=new URL(e),r=t.searchParams.get("status"),a=t.searchParams.get("userData");if(console.log("\uD83D\uDCF1 Deep link status:",r),console.log("\uD83D\uDCF1 Deep link userData:",a),"success"===r&&a){let e=JSON.parse(decodeURIComponent(a));console.log("\uD83D\uDCF1 Parsed user data from deep link:",e),localStorage.setItem("cardscope_user",JSON.stringify(e)),s(e),window.dispatchEvent(new Event("authUpdated")),console.log("✅ User data stored from deep link")}}catch(e){console.error("Error processing deep link:",e)}};return r.jsx(o.Provider,{value:{user:t,isLoading:i,signOut:()=>{localStorage.removeItem("cardscope_user"),s(null),console.log("✅ User signed out")}},children:e})}function l(){let e=(0,a.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},18117:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var r=s(11934);let a="https://cardscope-app.onrender.com";console.log("API Base URL →",a);let n=r.Z.create({baseURL:a,headers:{"Content-Type":"application/json"}});n.interceptors.response.use(e=>e,e=>(console.error("API Error:",e.response?.data||e.message),Promise.reject(e)));let o=n},98982:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g,metadata:()=>u,viewport:()=>m});var r=s(25036),a=s(20569),n=s.n(a);s(67272);var o=s(86843);let i=(0,o.createProxy)(String.raw`/Users/murari/WebstormProjects/cardscope-web/contexts/AuthContext.tsx`),{__esModule:l,$$typeof:c}=i;i.default;let d=(0,o.createProxy)(String.raw`/Users/murari/WebstormProjects/cardscope-web/contexts/AuthContext.tsx#AuthProvider`);(0,o.createProxy)(String.raw`/Users/murari/WebstormProjects/cardscope-web/contexts/AuthContext.tsx#useAuth`);let u={title:"CardScope",description:"CardScope — your personalized credit card rewards advisor"},m={width:"device-width",initialScale:1,maximumScale:1,userScalable:!1,viewportFit:"cover"};function g({children:e}){return r.jsx("html",{lang:"en",className:n().variable,children:r.jsx("body",{className:"font-sans bg-gray-50 text-gray-900 antialiased",children:r.jsx(d,{children:e})})})}},70751:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>o,__esModule:()=>n,default:()=>c,dynamic:()=>l});var r=s(86843);let a=(0,r.createProxy)(String.raw`/Users/murari/WebstormProjects/cardscope-web/app/page.tsx`),{__esModule:n,$$typeof:o}=a,i=a.default,l=(0,r.createProxy)(String.raw`/Users/murari/WebstormProjects/cardscope-web/app/page.tsx#dynamic`),c=i},57481:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(70337);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},67272:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,650,404,934,826,716],()=>s(73585));module.exports=r})();