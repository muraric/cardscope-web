(()=>{var e={};e.id=938,e.ids=[938],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},87529:()=>{},44502:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var s=r(50482),a=r(69108),n=r(62563),o=r.n(n),i=r(68300),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let c=["",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,78826)),"/Users/murari/WebstormProjects/cardscope-web/app/settings/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,98982)),"/Users/murari/WebstormProjects/cardscope-web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/murari/WebstormProjects/cardscope-web/app/settings/page.tsx"],u="/settings/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/settings/page",pathname:"/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},93479:(e,t,r)=>{Promise.resolve().then(r.bind(r,32836))},93148:(e,t,r)=>{Promise.resolve().then(r.bind(r,67296))},80575:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,26840,23)),Promise.resolve().then(r.t.bind(r,38771,23)),Promise.resolve().then(r.t.bind(r,13225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,43982,23))},32836:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>E,dynamic:()=>D});var s=r(95344),a=r(3729),n=r(8428),o=r(67296),i=r(18117),l=r(18879),c=r(66828),d=r(40207),u=r(19038),p=r(35986),m=r(92274),h=r(78651);function g(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class f extends a.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=(0,m.R)(e)&&e.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=r-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function x({children:e,isPresent:t,anchorX:r,root:n}){let o=(0,a.useId)(),i=(0,a.useRef)(null),l=(0,a.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,a.useContext)(h._),d=function(...e){return a.useCallback(function(...e){return t=>{let r=!1,s=e.map(e=>{let s=g(e,t);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let t=0;t<s.length;t++){let r=s[t];"function"==typeof r?r():g(e[t],null)}}}}(...e),e)}(i,e?.ref);return(0,a.useInsertionEffect)(()=>{let{width:e,height:s,top:a,left:d,right:u}=l.current;if(t||!i.current||!e||!s)return;let p="left"===r?`left: ${d}`:`right: ${u}`;i.current.dataset.motionPopId=o;let m=document.createElement("style");c&&(m.nonce=c);let h=n??document.head;return h.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${s}px !important;
            ${p}px !important;
            top: ${a}px !important;
          }
        `),()=>{h.contains(m)&&h.removeChild(m)}},[t]),(0,s.jsx)(f,{isPresent:t,childRef:i,sizeRef:l,children:a.cloneElement(e,{ref:d})})}let v=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:o,presenceAffectsLayout:i,mode:l,anchorX:c,root:u})=>{let m=(0,d.h)(w),h=(0,a.useId)(),g=!0,f=(0,a.useMemo)(()=>(g=!1,{id:h,initial:t,isPresent:r,custom:o,onExitComplete:e=>{for(let t of(m.set(e,!0),m.values()))if(!t)return;n&&n()},register:e=>(m.set(e,!1),()=>m.delete(e))}),[r,m,n]);return i&&g&&(f={...f}),(0,a.useMemo)(()=>{m.forEach((e,t)=>m.set(t,!1))},[r]),a.useEffect(()=>{r||m.size||!n||n()},[r]),"popLayout"===l&&(e=(0,s.jsx)(x,{isPresent:r,anchorX:c,root:u,children:e})),(0,s.jsx)(p.O.Provider,{value:f,children:e})};function w(){return new Map}var y=r(34146);let b=e=>e.key||"";function j(e){let t=[];return a.Children.forEach(e,e=>{(0,a.isValidElement)(e)&&t.push(e)}),t}let P=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:o=!0,mode:i="sync",propagate:l=!1,anchorX:p="left",root:m})=>{let[h,g]=(0,y.oO)(l),f=(0,a.useMemo)(()=>j(e),[e]),x=l&&!h?[]:f.map(b),w=(0,a.useRef)(!0),P=(0,a.useRef)(f),C=(0,d.h)(()=>new Map),[N,_]=(0,a.useState)(f),[S,D]=(0,a.useState)(f);(0,u.L)(()=>{w.current=!1,P.current=f;for(let e=0;e<S.length;e++){let t=b(S[e]);x.includes(t)?C.delete(t):!0!==C.get(t)&&C.set(t,!1)}},[S,x.length,x.join("-")]);let E=[];if(f!==N){let e=[...f];for(let t=0;t<S.length;t++){let r=S[t],s=b(r);x.includes(s)||(e.splice(t,0,r),E.push(r))}return"wait"===i&&E.length&&(e=E),D(j(e)),_(f),null}let{forceRender:k}=(0,a.useContext)(c.p);return(0,s.jsx)(s.Fragment,{children:S.map(e=>{let a=b(e),c=(!l||!!h)&&(f===S||x.includes(a));return(0,s.jsx)(v,{isPresent:c,initial:(!w.current||!!r)&&void 0,custom:t,presenceAffectsLayout:o,mode:i,root:m,onExitComplete:c?void 0:()=>{if(!C.has(a))return;C.set(a,!0);let e=!0;C.forEach(t=>{t||(e=!1)}),e&&(k?.(),D(P.current),l&&g?.(),n&&n())},anchorX:p,children:e},a)})})};var C=r(23829),N=r(4538),_=r(77215),S=r(34607);let D="force-dynamic";function E(){let e=(0,n.useRouter)(),{user:t,isLoading:r}=(0,o.useAuth)(),[c,d]=(0,a.useState)(null),[u,p]=(0,a.useState)(null),[m,h]=(0,a.useState)(""),[g,f]=(0,a.useState)(""),[x,v]=(0,a.useState)([]),[w,y]=(0,a.useState)([]),[b,j]=(0,a.useState)(!1),[D,E]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{if(!_.dV.isNativePlatform())return;"android"===_.dV.getPlatform()&&(await S.A_.setOverlaysWebView({overlay:!1}),await S.A_.setStyle({style:S.bg.Dark}),await S.A_.setBackgroundColor({color:"#ffffff"}))}catch{}})()},[]),(0,a.useEffect)(()=>{if(!r){if(!t){e.replace("/login");return}d(t.email)}},[r,t,e]),(0,a.useEffect)(()=>{c&&k(c)},[c]);let k=async e=>{j(!0);try{let t=await i.Z.get(`/api/user/${encodeURIComponent(e)}`);p(t.data??{name:"",email:e,userCards:[]})}catch(e){console.error("❌ Failed to load profile:",e)}finally{j(!1)}},A=async e=>{if(!e.trim())return v([]);try{let t=await i.Z.get(`/api/cards/issuers?search=${encodeURIComponent(e)}`);v(t.data||[])}catch(e){console.error("❌ Failed to fetch issuers:",e)}},U=async(e,t)=>{if(!e||!t.trim())return y([]);try{let r=await i.Z.get(`/api/cards/products?issuer=${encodeURIComponent(e)}&search=${encodeURIComponent(t)}`);y(r.data||[])}catch(e){console.error("❌ Failed to fetch products:",e)}},R=async()=>{if(c&&u){j(!0);try{let e={name:u.name,userCards:u.userCards.map(e=>({issuer:e.issuer,cardProduct:e.cardProduct}))},t=await i.Z.put(`/api/user/${encodeURIComponent(c)}`,e);p(t.data)}catch(e){console.error("❌ Failed to save profile:",e)}finally{j(!1)}}},q=e=>{u&&p({...u,userCards:u.userCards.filter((t,r)=>r!==e)})},F=e=>{E(D===e?null:e)},I=async()=>{if(c&&t&&window.confirm("Are you sure you want to delete your account? This action cannot be undone. All your data will be permanently deleted.")){j(!0);try{await i.Z.delete(`/api/user/${encodeURIComponent(c)}`),localStorage.removeItem("cardscope_user"),localStorage.removeItem("auth"),window.dispatchEvent(new Event("authUpdated")),e.replace("/login")}catch(e){console.error("❌ Failed to delete account:",e),alert(e.response?.data?.error||"Failed to delete account. Please try again.")}finally{j(!1)}}};return!r&&(c||t)?t?s.jsx(l.Z,{children:(0,s.jsxs)("div",{className:"max-w-lg mx-auto w-full px-4 space-y-6 pt-safe-plus",children:[b&&s.jsx(N.Z,{}),u&&!b&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-white shadow rounded-lg p-4 sm:p-6 space-y-4",children:[s.jsx("h2",{children:"\uD83D\uDC64 Profile"}),s.jsx("input",{className:"w-full border p-2 sm:p-3 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"Full Name",value:u.name,onChange:e=>p({...u,name:e.target.value})}),s.jsx("input",{className:"w-full border p-2 sm:p-3 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"Email",value:u.email,disabled:!0}),s.jsx("button",{onClick:R,className:"btn btn-success w-full",children:"Save Profile"})]}),(0,s.jsxs)("div",{className:"bg-white shadow rounded-lg p-4 sm:p-6",children:[s.jsx("h2",{children:"\uD83D\uDCB3 Manage Cards"}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[(0,s.jsxs)("div",{className:"relative w-full sm:w-1/2",children:[s.jsx("input",{className:"w-full border p-2 sm:p-3 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"Card Issuer (e.g., Chase, Amex)",value:m,onChange:e=>{h(e.target.value),A(e.target.value)}}),x.length>0&&s.jsx("ul",{className:"absolute z-10 bg-white border rounded-lg shadow mt-1 max-h-40 overflow-y-auto w-full",children:x.map((e,t)=>s.jsx("li",{className:"px-3 py-2 cursor-pointer hover:bg-blue-100 text-sm",onClick:()=>{h(e),v([])},children:e},t))})]}),(0,s.jsxs)("div",{className:"relative w-full sm:w-1/2",children:[s.jsx("input",{className:"w-full border p-2 sm:p-3 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"Card Product (e.g., Sapphire Preferred)",value:g,onChange:e=>{let t=e.target.value;f(t),U(m,t)},disabled:!m}),w.length>0&&s.jsx("ul",{className:"absolute z-10 bg-white border rounded-lg shadow mt-1 max-h-40 overflow-y-auto w-full",children:w.map((e,t)=>s.jsx("li",{className:"px-3 py-2 cursor-pointer hover:bg-blue-100 text-sm",onClick:()=>{f(e),y([])},children:e},t))})]}),s.jsx("button",{onClick:()=>{if(u&&m.trim()&&g.trim()){let e={issuer:m.trim(),cardProduct:g.trim(),rewardDetails:{}};p({...u,userCards:[...u.userCards,e]}),h(""),f(""),v([]),y([])}},className:"btn btn-primary w-full sm:w-auto",children:"Add"})]}),s.jsx("ul",{className:"space-y-2 sm:space-y-3",children:s.jsx(P,{children:u.userCards.map((e,t)=>{let r=e.rewardDetails?.cardReward,a=`${e.issuer}-${e.cardProduct}-${t}`;return(0,s.jsxs)(C.E.li,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"bg-gray-50 border rounded-lg p-3 sm:p-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>F(a),children:[(0,s.jsxs)("span",{className:"text-sm sm:text-base font-medium",children:[e.issuer," ",e.cardProduct]}),s.jsx("button",{onClick:e=>{e.stopPropagation(),q(t)},className:"btn btn-danger text-sm",children:"Remove"})]}),D===a&&r&&(0,s.jsxs)(C.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"mt-3 text-sm bg-white border rounded-lg p-3 space-y-2",children:[(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Base Rate:"})," ",r.base_rate]}),r.bonus_categories?.length>0&&(0,s.jsxs)("div",{children:[s.jsx("strong",{children:"Bonus Categories:"}),s.jsx("ul",{className:"list-disc pl-5",children:r.bonus_categories.map((e,t)=>(0,s.jsxs)("li",{children:[e.category," — ",e.rate,e.cap&&(0,s.jsxs)("span",{children:[" (Cap: ",e.cap,")"]}),e.after_cap_rate&&(0,s.jsxs)("span",{children:[", After Cap: ",e.after_cap_rate]}),e.exclusions?.length>0&&(0,s.jsxs)("span",{children:[" | Exclusions: ",e.exclusions.join(", ")]})]},t))})]}),r.user_choice_categories?.length>0&&(0,s.jsxs)("div",{children:[s.jsx("strong",{children:"User Choice Categories:"}),s.jsx("ul",{className:"list-disc pl-5",children:r.user_choice_categories.map((e,t)=>(0,s.jsxs)("li",{children:[e.rate," on ",e.options.join(", ")," ",e.notes&&`(${e.notes})`]},t))})]}),r.rotating_categories&&(0,s.jsxs)("div",{children:[s.jsx("strong",{children:"Rotating Categories:"}),Object.entries(r.rotating_categories).map(([e,t])=>t.length>0?(0,s.jsxs)("div",{className:"mt-1",children:[s.jsx("p",{className:"font-semibold",children:e}),s.jsx("ul",{className:"list-disc pl-5",children:t.map((e,t)=>(0,s.jsxs)("li",{children:[e.category," — ",e.rate,e.notes&&` (${e.notes})`,e.exclusions?.length>0&&(0,s.jsxs)("span",{children:[" | Exclusions: ",e.exclusions.join(", ")]})]},t))})]},e):null)]}),r.redeem_as&&(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Redeem As:"})," ",r.redeem_as]}),r.annual_fee&&(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Annual Fee:"})," ",r.annual_fee.first_year," (Then"," ",r.annual_fee.thereafter,")"]}),r.notes&&s.jsx("p",{className:"italic text-gray-600",children:r.notes})]})]},a)})})}),s.jsx("button",{onClick:R,className:"btn btn-success w-full mt-4",children:"Save Cards"})]}),(0,s.jsxs)("div",{className:"bg-white shadow rounded-lg p-4 sm:p-6 border-t-4 border-red-500",children:[s.jsx("h2",{className:"text-red-600 mb-4",children:"⚠️ Danger Zone"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),s.jsx("button",{onClick:I,className:"btn btn-danger w-full",disabled:b,children:b?"Deleting...":"Delete My Account"})]})]})]})}):null:s.jsx("div",{className:"min-h-screen flex items-center justify-center text-gray-500",children:"Checking your session..."})}},18879:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var s=r(95344),a=r(56506),n=r(8428),o=r(3729),i=r(77215),l=r(34607),c=r(67296);function d({children:e}){let t=(0,n.usePathname)(),r=(0,n.useRouter)(),{signOut:d}=(0,c.useAuth)();(0,o.useEffect)(()=>{(async()=>{try{if(!i.dV.isNativePlatform())return;let e=i.dV.getPlatform();await l.A_.show(),"ios"===e?(await l.A_.setOverlaysWebView({overlay:!1}),await l.A_.setStyle({style:l.bg.Dark}),await l.A_.setBackgroundColor({color:"#f2f2f2"})):"android"===e&&(await l.A_.setOverlaysWebView({overlay:!0}),await l.A_.setStyle({style:l.bg.Light}),await l.A_.setBackgroundColor({color:"#000000"}))}catch(e){console.warn("StatusBar setup skipped:",e)}})()},[]);let u=async()=>{try{console.log("\uD83D\uDD13 Signing out user..."),d(),r.replace("/login")}catch(e){console.error("❌ Sign-out error:",e)}};return(0,s.jsxs)("div",{className:"min-h-screen flex flex-col font-sans bg-gray-50",style:{paddingTop:"env(safe-area-inset-top, 0px)",paddingBottom:"env(safe-area-inset-bottom, 0px)"},children:[s.jsx("header",{className:"bg-white shadow-sm py-3 rounded-t-2xl overflow-hidden sticky top-0 z-50",style:{top:"env(safe-area-inset-top, 0px)"},children:(0,s.jsxs)("div",{className:"max-w-lg mx-auto w-full px-4 flex justify-between items-center gap-2 min-w-0",children:[s.jsx("div",{className:"flex-shrink-0 min-w-0",children:"/settings"===t?s.jsx(a.default,{href:"/",className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100 transition inline-flex items-center justify-center","aria-label":"Home",children:"\uD83C\uDFE0"}):s.jsx(a.default,{href:"/settings",className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100 transition inline-flex items-center justify-center","aria-label":"Settings",children:"⚙️"})}),s.jsx("h1",{className:"text-base sm:text-lg font-semibold text-gray-800 flex-1 text-center min-w-0 truncate px-2",children:"/settings"===t?"Settings":"Suggestions"}),s.jsx("div",{className:"flex-shrink-0 min-w-0",children:s.jsx("button",{onClick:u,className:"bg-red-600 text-white px-3 py-1 text-xs sm:text-sm rounded-lg font-medium transition hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-1 whitespace-nowrap",children:"Sign Out"})})]})}),s.jsx("main",{className:"flex-1 w-full text-gray-900",children:e}),s.jsx("footer",{className:"bg-white text-center text-xs text-gray-500 border-t py-3 rounded-b-2xl",children:(0,s.jsxs)("div",{className:"max-w-lg mx-auto w-full px-4 space-y-1",children:[(0,s.jsxs)("div",{children:["\xa9 ",new Date().getFullYear()," CardCompass"]}),s.jsx("div",{children:s.jsx(a.default,{href:"/privacy",className:"hover:text-gray-700 underline",children:"Privacy Policy"})})]})})]})}},4538:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(95344);let a=function(){return s.jsx("div",{className:"flex justify-center items-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-blue-500 border-t-transparent"})})}},67296:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AuthProvider:()=>i,useAuth:()=>l});var s=r(95344),a=r(3729),n=r(77215);let o=(0,a.createContext)(void 0);function i({children:e}){let[t,r]=(0,a.useState)(null),[i,l]=(0,a.useState)(!0),c=()=>{try{if("undefined"==typeof localStorage){console.log("⚠️ localStorage not available"),r(null),l(!1);return}let e=localStorage.getItem("cardscope_user");if(e){let t=JSON.parse(e);r(t),console.log("✅ User found in localStorage:",t.email)}else r(null),console.log("❌ No user found in localStorage")}catch(e){console.error("Error checking auth:",e),r(null)}finally{l(!1)}};(0,a.useEffect)(()=>{if(c(),n.dV.isNativePlatform()){console.log("\uD83D\uDCF1 Setting up deep link listeners...");let e=e=>{console.log("\uD83D\uDCF1 Received appUrlOpen event:",e.detail?.url),e.detail?.url&&e.detail.url.includes("cardscope://")&&d(e.detail.url)};window.addEventListener("appUrlOpen",e);let t=e=>{console.log("\uD83D\uDCF1 Received deepLink event from native:",e.detail),d(e.detail)};window.addEventListener("deepLink",t);let r=()=>{let e=window.location.href;e&&e.includes("cardscope://")&&(console.log("\uD83D\uDCF1 Found cardscope:// in window.location:",e),d(e))};r();let s=setInterval(r,1e3);return()=>{window.removeEventListener("appUrlOpen",e),window.removeEventListener("deepLink",t),clearInterval(s)}}let e=e=>{if("cardscope_user"===e.key){if(e.newValue){let t=JSON.parse(e.newValue);r(t),console.log("✅ User updated from storage:",t.email)}else r(null),console.log("❌ User removed from storage")}};window.addEventListener("storage",e);let t=()=>{c()};return window.addEventListener("authUpdated",t),()=>{window.removeEventListener("storage",e),window.removeEventListener("authUpdated",t)}},[]);let d=e=>{try{console.log("\uD83D\uDD17 Processing deep link URL:",e);let t=new URL(e),s=t.searchParams.get("status"),a=t.searchParams.get("userData");if(console.log("\uD83D\uDCF1 Deep link status:",s),console.log("\uD83D\uDCF1 Deep link userData:",a),"success"===s&&a){let e=JSON.parse(decodeURIComponent(a));console.log("\uD83D\uDCF1 Parsed user data from deep link:",e),localStorage.setItem("cardscope_user",JSON.stringify(e)),r(e),window.dispatchEvent(new Event("authUpdated")),console.log("✅ User data stored from deep link")}}catch(e){console.error("Error processing deep link:",e)}};return s.jsx(o.Provider,{value:{user:t,isLoading:i,signOut:()=>{localStorage.removeItem("cardscope_user"),r(null),console.log("✅ User signed out")}},children:e})}function l(){let e=(0,a.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},18117:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var s=r(11934);let a="https://cardscope-app.onrender.com";console.log("API Base URL →",a);let n=s.Z.create({baseURL:a,headers:{"Content-Type":"application/json"}});n.interceptors.response.use(e=>e,e=>(console.error("API Error:",e.response?.data||e.message),Promise.reject(e)));let o=n},98982:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m,metadata:()=>u,viewport:()=>p});var s=r(25036),a=r(20569),n=r.n(a);r(67272);var o=r(86843);let i=(0,o.createProxy)(String.raw`/Users/murari/WebstormProjects/cardscope-web/contexts/AuthContext.tsx`),{__esModule:l,$$typeof:c}=i;i.default;let d=(0,o.createProxy)(String.raw`/Users/murari/WebstormProjects/cardscope-web/contexts/AuthContext.tsx#AuthProvider`);(0,o.createProxy)(String.raw`/Users/murari/WebstormProjects/cardscope-web/contexts/AuthContext.tsx#useAuth`);let u={title:"CardScope",description:"CardScope — your personalized credit card rewards advisor"},p={width:"device-width",initialScale:1,maximumScale:1,userScalable:!1,viewportFit:"cover"};function m({children:e}){return s.jsx("html",{lang:"en",className:n().variable,children:s.jsx("body",{className:"font-sans bg-gray-50 text-gray-900 antialiased",children:s.jsx(d,{children:e})})})}},78826:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>o,__esModule:()=>n,default:()=>c,dynamic:()=>l});var s=r(86843);let a=(0,s.createProxy)(String.raw`/Users/murari/WebstormProjects/cardscope-web/app/settings/page.tsx`),{__esModule:n,$$typeof:o}=a,i=a.default,l=(0,s.createProxy)(String.raw`/Users/murari/WebstormProjects/cardscope-web/app/settings/page.tsx#dynamic`),c=i},57481:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(70337);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},67272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,650,404,934,826,716],()=>r(44502));module.exports=s})();